<!DOCTYPE html>
<html>
	<head>
		<meta charset="UTF-8">
		<title>登录</title>
        <link rel="icon" href="/img/sys/icon.png" type=" image/png" >
		<link rel="stylesheet" href="/css/index.css" />
		<link rel="stylesheet" href="/css/login.css" />
        <style type="text/css">
            #logincode {
                display: inline-block;
                vertical-align: top;
                width: 120px;
                /*border: none*/
            }

            #code {
                display: inline-block;
                vertical-align: top;
            }
        </style>
	</head>
	<body class="login-bg">

    <nav class="navbar nav-default navbar-fxied-top" style="background-color: transparent">
        <div class="width-limit">
            <a href="/index.html" class="logo">
                <img src="/img/sys/logon.png" alt="logo"/>
            </a>

            <div class="login-btn">
                <a class="btn log-in" href="#">
                    登录
                </a>
                <a class="btn sign-up" href="/view/sign/signup.html">
                    注册
                </a>
            </div>
        </div>
    </nav>

        <!--以弹框的形式弹出页面-->
        <div class="log-content" >
            <div class="tile">
                用户登录
            </div>
            <form id="inputForm">
                <ul>
                    <li>
                        <input type="text" class="username" v-model="username" placeholder="手机号或邮箱"/>
                    </li>
                    <li>
                        <input type="password" class="password" v-model="password" placeholder="密码"/>
                    </li>
                    <!--<li>
                        <input type="text" v-model="logincode" id="logincode" placeholder="输入验证码"/>
                        <a href="javascript:void(0);" @click="refreshCode" ><img id="code" alt="如果看不清，刷新图片" src="/user/getCode" /></a>
                    </li>-->
                </ul>
                <div class="sign signin-button" @click="login">登录</div>
            </form>
        </div>
	</body>
</html>
<script type="text/javascript" src="/js/jquery-1.12.0.min.js" ></script>
<script type="text/javascript" src="/js/vue/vue.min.js"></script>
<script type="text/javascript" src="/js/jquery-ruirui.js" ></script>
<script type="text/javascript" src="/js/layer.js"></script>

<script type="text/javascript">
        var vm = new Vue({
            el:"#inputForm",
            data:{
                username: "",
                password: ""
            },
            methods:{
                /*refreshCode: function () {
                    $("#code").attr("src", "/user/getCode?timestamp="+$.now());
                },*/
                login:function (event) {
                    var data = "username=" + vm.username + "&password="+vm.password;
                    $.ajax({
                        type: "POST",
                        url: "/sys/login",
                        data: data,
                        dataType: "json",
                        success: function (result) {
                            debugger;
                            if (result.code == 202) {//登录成功
                                location.href="/index.html";
                            }
                            else {
                                layer.msg(result.message, {time: 2500, icon:6, height:40+"px"});
                            }
                        }
                    });
                }
            }
        });


		/*window.onload = function() {
			//进行非空验证，校验
			$("#inputForm").find(".username").change(function() {
				/!*$(this).css("border", "solid 1px #c8c8c8");*!/
				/!*$(this).css({"border":"1px solid red", "color":"red"})*!/
			});

			$("#inputForm").find(".password").change(function() {

			});

			$(".sign").click(function() {
				debugger;
				var formSer = $("#inputForm").serializeArray();
				$("#inputForm").serializeJSON();
				$("#inputForm").serialize();
				var detail = $("#inputForm").serializeJSON();
				/!*String jsonString = JSON.stringify(detail);*!/
				var jsonString = JSON.stringify(detail);
                layer.msg("后台正在更新中，尽情期待！",{time: 2500, icon:6});
			})
		};

		$(function() {
           $(".search-border").animateLength(380, 400);
		  $(".search-input").animateLength(345, 400);
		})*/
</script>
